{"ast":null,"code":"import _slicedToArray from\"C:/Users/Nokutenda/Desktop/weather react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from\"react\";import axios from\"axios\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function WeatherSearch(){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),city=_useState2[0],setCity=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),loaded=_useState4[0],setLoaded=_useState4[1];var _useState5=useState({}),_useState6=_slicedToArray(_useState5,2),weather=_useState6[0],setWeather=_useState6[1];function displayWeather(response){setLoaded(true);setWeather({temperature:response.data.main.temp,wind:response.data.wind.speed,humidity:response.data.main.humidity,icon:\"http://openweathermap.org/img/wn/\".concat(response.data.weather[0].icon,\"@2x.png\"),description:response.data.weather[0].description});}function handleSubmit(event){event.preventDefault();var apiKey=\"094780c710fa4efd669f0df8c3991927\";var apiUrl=\"https://api.openweathermap.org/data/2.5/weather?q=\".concat(city,\"&appid=\").concat(apiKey,\"&units=metric\");axios.get(apiUrl).then(displayWeather);}function updateCity(event){setCity(event.target.value);}var form=/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"input\",{type:\"search\",placeholder:\"Enter a city..\",onChange:updateCity}),/*#__PURE__*/_jsx(\"button\",{type:\"Submit\",children:\"Search\"})]});if(loaded){return/*#__PURE__*/_jsxs(\"div\",{children:[form,/*#__PURE__*/_jsxs(\"ul\",{children:[/*#__PURE__*/_jsxs(\"li\",{children:[\"Temperature: \",Math.round(weather.temperature),\"\\xB0C\"]}),/*#__PURE__*/_jsxs(\"li\",{children:[\"Description: \",weather.description]}),/*#__PURE__*/_jsxs(\"li\",{children:[\"Humidity: \",weather.humidity,\"%\"]}),/*#__PURE__*/_jsxs(\"li\",{children:[\"Wind: \",weather.wind,\"km/h\"]}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(\"img\",{src:weather.icon,alt:weather.description})})]})]});}else{return form;}}","map":{"version":3,"names":["React","useState","axios","jsx","_jsx","jsxs","_jsxs","WeatherSearch","_useState","_useState2","_slicedToArray","city","setCity","_useState3","_useState4","loaded","setLoaded","_useState5","_useState6","weather","setWeather","displayWeather","response","temperature","data","main","temp","wind","speed","humidity","icon","concat","description","handleSubmit","event","preventDefault","apiKey","apiUrl","get","then","updateCity","target","value","form","onSubmit","children","type","placeholder","onChange","Math","round","src","alt"],"sources":["C:/Users/Nokutenda/Desktop/weather react/src/WeatherSearch.js"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport axios from \"axios\";\r\n\r\nexport default function WeatherSearch() {\r\n  const [city, setCity] = useState(\"\");\r\n  const [loaded, setLoaded] = useState(false);\r\n  const [weather, setWeather] = useState({});\r\n\r\n  function displayWeather(response) {\r\n    setLoaded(true);\r\n    setWeather({\r\n      temperature: response.data.main.temp,\r\n      wind: response.data.wind.speed,\r\n      humidity: response.data.main.humidity,\r\n      icon: `http://openweathermap.org/img/wn/${response.data.weather[0].icon}@2x.png`,\r\n      description: response.data.weather[0].description\r\n    });\r\n  }\r\n\r\n  function handleSubmit(event) {\r\n    event.preventDefault();\r\n    let apiKey = \"094780c710fa4efd669f0df8c3991927\";\r\n    let apiUrl = `https://api.openweathermap.org/data/2.5/weather?q=${city}&appid=${apiKey}&units=metric`;\r\n    axios.get(apiUrl).then(displayWeather);\r\n  }\r\n\r\n  function updateCity(event) {\r\n    setCity(event.target.value);\r\n  }\r\n\r\n  let form = (\r\n    <form onSubmit={handleSubmit}>\r\n      <input type=\"search\" placeholder=\"Enter a city..\" onChange={updateCity} />\r\n      <button type=\"Submit\">Search</button>\r\n    </form>\r\n  );\r\n\r\n  if (loaded) {\r\n    return (\r\n      <div>\r\n        {form}\r\n        <ul>\r\n          <li>Temperature: {Math.round(weather.temperature)}Â°C</li>\r\n          <li>Description: {weather.description}</li>\r\n          <li>Humidity: {weather.humidity}%</li>\r\n          <li>Wind: {weather.wind}km/h</li>\r\n          <li>\r\n            <img src={weather.icon} alt={weather.description} />\r\n          </li>\r\n        </ul>\r\n      </div>\r\n    );\r\n  } else {\r\n    return form;\r\n  }\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}